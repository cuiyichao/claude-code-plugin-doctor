# Project Doctor 插件

**您的私人项目健康顾问**。

Project Doctor 不仅仅是一个 Linter。它结合了架构感知能力，能够深入理解你的业务逻辑代码，发现那些编译器和普通静态分析工具发现不了的**功能性 Bug**。

## ✨ 核心功能

1.  **📊 智能架构分析**:
    - 自动识别项目语言、框架和架构模式。
    - 生成项目全景视图和开发规范建议。

2.  **🔍 差异化深度诊断**:
    - **场景感知**: 自动区分前端/后端项目，应用不同的诊断策略（交互体验 vs 接口健壮性）。
    - **全链路分析**: 以"业务功能"为维度，跨文件追踪逻辑漏洞。
    - **非语法层面**: 专注于事务一致性、并发问题、资源泄露和错误处理。

3.  **📝 诊断报告生成**:
    - 一键生成 `PROJECT_DIAGNOSIS.md`，包含项目概况、功能列表和详细的 Bug 报告。

## 🚀 使用方法

### 安装
将本插件复制到你的 Claude Code 插件目录：

```bash
# 1. 确保插件目录存在
mkdir -p ~/.claude/plugins

# 2. 安装插件（假设你在 claude-code-third-party-plugins 根目录）
# 注意使用绝对路径以避免错误
cp -r "$(pwd)/plugins/project-doctor" ~/.claude/plugins/
```

### 运行诊断
1. **重启** Claude Code 会话（如果已打开）。
2. 在任何项目中运行：

```bash
/project-doctor
```

Claude 将会：
1. 自动分析项目架构。
2. 让你确认业务领域和核心功能。
3. 执行全链路扫描。
4. 生成诊断报告。

## 🎯 适用场景

- **接手新项目时**: 快速了解架构并排查“地雷”。
- **代码审查 (Code Review) 前**: 让 AI 先过一遍，减少低级逻辑错误。
- **测试用例设计**: 基于识别出的核心功能和潜在 Bug 设计测试点。

## 示例报告片段

```markdown
### 🚨 发现的问题

#### 功能：用户下单
- **[Critical] 事务一致性缺失**
  - **位置**: `src/services/OrderService.ts:45`
  - **描述**: 扣减库存后，如果创建订单失败，库存未回滚。
  - **建议**: 使用 `@Transactional` 或手动事务回滚。
```
